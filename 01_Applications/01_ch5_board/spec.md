# 5ch風匿名掲示板 機能仕様書

## 1. アプリ概要

### 1.1 目的
5ch（旧2ちゃんねる）風の匿名掲示板Webアプリケーション。  
**学習目的**でNext.js + SQLiteの基本的なCRUD操作を理解するために作成する。

### 1.2 基本方針
| 項目 | 方針 |
|------|------|
| 認証 | **なし**（会員登録不要、完全匿名） |
| 環境 | ローカル開発環境のみ（本番デプロイは想定外） |
| 範囲 | MVP（最小限の機能で動作確認できる状態） |

### 1.3 なぜこの仕様か
- **匿名制**：認証機構を省くことで、CRUD操作の学習に集中できる
- **ローカル限定**：セキュリティ・インフラ考慮を最小化し、実装に注力
- **5ch風**：馴染みのあるUIで完成形をイメージしやすい

---

## 2. MVP機能要件

### 2.1 スレッド機能

| 機能ID | 機能名 | 説明 |
|--------|--------|------|
| TH-01 | スレッド一覧表示 | 板内のスレッドを一覧で表示する |
| TH-02 | スレッド作成 | タイトル＋本文（1レス目）を入力して新規作成 |
| TH-03 | スレッド詳細表示 | スレッド内のレスを全件表示する |

### 2.2 レス機能

| 機能ID | 機能名 | 説明 |
|--------|--------|------|
| RS-01 | レス投稿 | 名前（任意）と本文を入力してレスを追加 |
| RS-02 | レス一覧表示 | スレッド内のレスを番号順に表示 |
| RS-03 | 名無しさん表示 | 名前未入力時は「名無しさん」と表示 |

### 2.3 表示機能

| 機能ID | 機能名 | 説明 |
|--------|--------|------|
| DS-01 | レス番号表示 | 各レスに連番（1, 2, 3...）を表示 |
| DS-02 | 投稿日時表示 | レスの投稿日時を表示 |

---

## 3. 画面構成

### 3.1 トップページ（スレッド一覧）
- **URL**: `/`
- **内容**:
  - スレッドタイトルの一覧（クリックで詳細へ遷移）
  - レス数の表示
  - 「スレッドを立てる」ボタン

### 3.2 スレッド作成ページ
- **URL**: `/create`
- **内容**:
  - タイトル入力欄（必須、48文字以内）
  - 名前入力欄（任意）
  - 本文入力欄（必須、1レス目として登録）
  - 「作成する」ボタン

### 3.3 スレッド詳細ページ
- **URL**: `/thread/[id]`
- **内容**:
  - スレッドタイトル
  - レス一覧（番号、名前、日時、本文）
  - レス投稿フォーム（名前、本文）

---

## 4. 非機能要件（最低限）

| 項目 | 要件 |
|------|------|
| パフォーマンス | ローカル動作で問題ない程度（最適化不要） |
| セキュリティ | XSS対策（HTMLエスケープ）のみ実施 |
| バリデーション | 必須チェック、文字数制限のみ |
| ブラウザ対応 | Chrome最新版で動作確認 |

---

## 5. スコープ外（やらないこと）

以下は本MVP では**実装しない**：

- 板（カテゴリ）機能 → 1つの板のみ前提
- ユーザー認証・ログイン
- 画像アップロード
- アンカー（`>>1`）のリンク化・ポップアップ
- sage機能、ID表示
- 検索・並び替え
- ページネーション
- 管理者機能
- レスポンシブ対応（PC表示のみ）
- 本番デプロイ・ドメイン設定

---

## 6. データ構造（概要）

### threads テーブル
| カラム | 型 | 説明 |
|--------|------|------|
| id | Int | スレッドID（自動採番） |
| title | String | スレッドタイトル |
| createdAt | DateTime | 作成日時 |

### responses テーブル
| カラム | 型 | 説明 |
|--------|------|------|
| id | Int | レスID（自動採番） |
| threadId | Int | 所属スレッドID |
| resNumber | Int | レス番号（スレッド内連番） |
| name | String | 投稿者名 |
| body | String | 本文 |
| createdAt | DateTime | 投稿日時 |

---

## 更新履歴

| 日付 | 内容 |
|------|------|
| 2026/01/01 | 初版作成（MVP仕様） |

完了条件:
- スレッド一覧が表示され、ページリロード後も保持される
- レス投稿後、即時に画面に反映される

本仕様は学習目的に限定し、本番運用に必要な負荷対策・認証・監査要件は意図的に除外する。
